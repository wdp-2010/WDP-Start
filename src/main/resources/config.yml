# ╔═══════════════════════════════════════════════════════════════════════════╗
# ║                           WDP-Start Configuration                          ║
# ║              Professional Get Started Quest System v1.0.0                  ║
# ╚═══════════════════════════════════════════════════════════════════════════╝

# Configuration version - DO NOT EDIT
config-version: 3

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │                            General Settings                                  │
# └─────────────────────────────────────────────────────────────────────────────┘
general:
  # Show welcome message with /quests highlight to new players
  welcome-message: true
  
  # Quests do NOT auto-start - players must opt-in via /quests
  auto-start: false
  
  # Play sounds on quest events
  enable-sounds: true
  
  # Particle effects on completion
  enable-particles: true
  
  # Broadcast quest completions to server
  broadcast-completions: false
  
  # Debug mode for development
  debug: false

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │                          Particle Path Guide                                 │
# └─────────────────────────────────────────────────────────────────────────────┘
particle-path:
  # Enable particle path guide
  enabled: true
  
  # Target point (where players should go for Quest 1)
  target:
    world: "world"
    x: 125
    y: 176
    z: 204
  
  # Particle settings
  particle-type: "TOTEM_OF_UNDYING"
  particle-height: 1.5
  particle-count: 3
  
  # Path animation speed (ticks between particle movements)
  animation-speed: 2
  
  # How many blocks ahead to show particles (999 = full path to target)
  path-length: 999
  
  # Always show full path from player to target
  show-full-path: true
  
  # Recalculate path interval (ticks) - only recalculates when path ends
  recalculate-on-end: true
  
  # Minimum time for path to play (in seconds)
  # If path completes before this time, it will pause until minimum is reached
  # Set to 0 to disable
  minimum-runtime: 5

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │                          Quest 1: Leave & Teleport                          │
# │       Portal Zone - Area player must enter before being teleported          │
# │       Use /start debug to visualize this zone with particles                │
# │       After portal, player is RTP'd near a tree (away from bases)           │
# └─────────────────────────────────────────────────────────────────────────────┘
quest1:
  # Rewards - Tutorial start, small amount to introduce currency
  rewards:
    skillcoins: 15
    items:
      - "APPLE:3"

# Portal Zone Configuration
portal-zone:
  # Use WorldGuard region instead of coordinates
  # When enabled, coordinate box is disabled
  use-worldguard: true
  
  # WorldGuard region name (only if use-worldguard is true)
  worldguard-region: "spawn-exit"
  
  # World where the portal zone exists
  world: "world"
  
  # Bounding box coordinates (only if use-worldguard is false)
  # Players must enter this box to trigger the portal teleport
  min-x: 120
  max-x: 130
  min-y: 170
  max-y: 180
  min-z: 200
  max-z: 210

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │                    RTP Settings (After Portal Zone)                         │
# │    Teleports player to random location near a tree, away from bases         │
# │    Uses WDP-BaseDet to ensure location is not near existing bases           │
# └─────────────────────────────────────────────────────────────────────────────┘
rtp:
  # Enable RTP after entering portal zone
  enabled: true
  
  # World for RTP destination
  world: "world"
  
  # Distance range from spawn center (min-max blocks)
  min-distance: 1000
  max-distance: 5000
  
  # Maximum world border to respect
  world-border-buffer: 100
  
  # Tree search settings
  tree-search:
    # How close to land near a tree (blocks)
    min-distance-from-tree: 5
    max-distance-from-tree: 30
    # Max attempts to find a valid tree location
    max-attempts: 50
  
  # Base avoidance (WDP-BaseDet integration)
  base-detection:
    # Minimum distance from any detected base
    min-distance-from-base: 200
    # Include pending/unconfirmed bases
    include-pending: true
  
  # Safe landing checks
  safety:
    # Ensure solid ground below
    require-solid-ground: true
    # Avoid lava/water
    avoid-liquids: true
    # Min Y level
    min-y: 63
    # Max Y level
    max-y: 200

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │                       Quest 2: Foraging Kickstart                           │
# │         Player levels Foraging from 0 to 1 - earns SkillCoins reward        │
# └─────────────────────────────────────────────────────────────────────────────┘
quest2:
  # Target skill level (reach level 1, from 0)
  target-level: 1
  
  # Skill name (AuraSkills)
  skill: "foraging"
  
  # Override default AuraSkills level up message - use our own
  override-reward: true
  
  # Rewards (given when reaching level 1) - teaches skill leveling
  rewards:
    skillcoins: 20

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │                       Quest 3: Shop Tutorial                                │
# │         Player uses /shop to open simplified shop and buys an item          │
# └─────────────────────────────────────────────────────────────────────────────┘
quest3:
  # Minimum item cost (player must have enough money)
  min-item-cost: 10
  
  # Ensure player has enough money to buy something
  ensure-balance: true
  
  # Minimum balance to ensure (player already has ~35 from Q1+Q2)
  ensure-balance-amount: 35
  
  # Rewards after completing shop purchase - reward for learning shop
  rewards:
    skillcoins: 25

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │                       Quest 4: Token Exchange                               │
# │         Player learns about the token system (1 token = 500 coins)          │
# └─────────────────────────────────────────────────────────────────────────────┘
quest4:
  # Minimum tokens to purchase (can buy more)
  tokens-required: 1
  
  # Cost per token - 1 Token = 500 Coins (premium currency ratio)
  token-cost: 500
  
  # Auto top-up if player doesn't have enough coins
  auto-topup: true
  
  # Rewards after purchasing - teaches token value
  rewards:
    skillcoins: 30

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │                      Quest 5: Quest Menu Tutorial                           │
# │         Player uses /quests to see simplified quest view                    │
# └─────────────────────────────────────────────────────────────────────────────┘
quest5:
  # Simplified quest objective to display
  objective: "Complete this simple task!"
  
  # Rewards - introduces daily quest system
  rewards:
    skillcoins: 15

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │                       Quest 6: Community Support                            │
# └─────────────────────────────────────────────────────────────────────────────┘
quest6:
  # Discord invite link
  discord-link: "https://dsc.gg/wdp-server"
  
  # Final rewards for completing all tutorial quests
  # Generous to give players a head start in the economy
  final-rewards:
    skillcoins: 500
    skilltokens: 25
    items:
      - "DIAMOND:3"
      - "IRON_INGOT:16"
      - "BREAD:32"

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │                          Cancellation & Refunds                             │
# └─────────────────────────────────────────────────────────────────────────────┘
cancellation:
  # Allow players to cancel the quest chain
  enabled: true
  
  # Refund SkillCoins that were granted but not spent
  refund-unspent: true
  
  # Track spending for this many seconds after granting coins
  # Coins spent within this window are considered "spent"
  spend-tracking-seconds: 600

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │                              GUI Settings                                    │
# └─────────────────────────────────────────────────────────────────────────────┘
gui:
  # Update interval in ticks (20 ticks = 1 second)
  update-interval: 20
  
  # Colors (hex codes)
  colors:
    primary: "#FFD700"      # Gold
    secondary: "#55FFFF"    # Cyan
    success: "#55FF55"      # Green
    warning: "#FFFF55"      # Yellow
    error: "#FF5555"        # Red
    info: "#AAAAAA"         # Gray

# ┌─────────────────────────────────────────────────────────────────────────────┐
# │                               Storage                                        │
# └─────────────────────────────────────────────────────────────────────────────┘
storage:
  # Storage type: SQLITE, YAML or MYSQL
  # SQLITE is recommended - uses playerdata.db file
  type: "SQLITE"
  
  # Auto-save interval in seconds
  save-interval: 300

# MySQL settings (only if storage.type is MYSQL)
mysql:
  host: "localhost"
  port: 3306
  database: "wdpstart"
  username: "root"
  password: "password"
  pool-size: 10
